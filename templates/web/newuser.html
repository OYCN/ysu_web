{% load staticfiles %}
{% load mytag %}
<!DOCTYPE html>
<!-- saved from url=(0050)https://v4.bootcss.com/docs/4.0/examples/checkout/ -->
<html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'img/logo_padd_1b1.ico' %}">

    <title>燕山大学网络信息协会招新报名</title>

    <!-- Bootstrap core CSS -->
    {% include 'web/head.html' %}

    <!-- Custom codesnippet for this template -->
    <style type="text/css">
      .container {
        max-width: 960px;
      }
      .border-top { border-top: 1px solid #e5e5e5; }
      .border-bottom { border-bottom: 1px solid #e5e5e5; }
      .border-top-gray { border-top-color: #adb5bd; }
      .box-shadow { box-shadow: 0 .25rem .75rem rgba(0, 0, 0, .05); }
      .lh-condensed { line-height: 1.25; }
    </style>
  </head>

  <body class="bg-light">

    <div class="container">
      <div class="py-5 text-center">
          {% if info %}
        <div class="alert alert-danger alert-dismissable">
            <button type="button" class="close" data-dismiss="alert"
                    aria-hidden="true">
                &times;
            </button>
            {{ info }}
        </div>
          {% endif %}
        <h2>燕大网协招新</h2>
        <p class="lead">是缘分让我们再次相遇，欢迎填写燕山大学网络信息协会2019年度招新报名表。</p>
      </div>

      <div class="row">
        <div class="col-md-4 order-md-2 mb-4">
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">招新安排</span>
            <span class="badge badge-secondary badge-pill">2</span>
          </h4>
          <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0">面向人群</h6>
                <small class="text-muted">2019级刚入学的小萌新。<br>身怀绝技无处发挥的老油条。</small>
              </div>
              <span class="text-muted"></span>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0">招新时间</h6>
                <small class="text-muted">2019年x月x日 到 2019年x月x日</small>
              </div>
              <span class="text-muted"></span>
            </li>
          </ul>
        </div>
        <div class="col-md-8 order-md-1">
          <h4 class="mb-3">填写下表</h4>
          <form class="needs-validation" novalidate="" action="{% url 'newuser' %}" method="post">
              {% csrf_token %}
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="name">真实姓名</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="" value="" required="">
                <div class="invalid-feedback">
                   请写上你可爱的宝贵的名字
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="tel">手机号</label>
                <input type="number" class="form-control" id="tel" name="tel" placeholder="" value="" required="">
                <div class="invalid-feedback">
                  写上吧，我们不透露给别人
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="college">学院</label>
                <select class="custom-select d-block w-100" name="college" id="college" required="" onchange="fill()">
                  <option value="">选择...</option>
                </select>
                <div class="invalid-feedback">
                  嗯。。选一个就好
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="major">专业</label>
                <select class="custom-select d-block w-100" name="major" id="major" required="">
                  <option value="">选择...</option>
                </select>
                <div class="invalid-feedback">
                  emm，我什么都不说，你懂
                </div>
              </div>
            </div>
              <hr class="mb-4">
            <h4 class="mb-3">报名方向</h4>

            <div class="d-block my-3">
              <div class="custom-control custom-radio">
                <input id="ctf" name="direction" value="CTF" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="ctf">CTF</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="msb" name="direction" value="秘书部" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="msb">秘书部</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="xmt" name="direction" value="新媒体" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="xmt">新媒体</label>
              </div>
            </div>
            <hr class="mb-4">
              <h4 class="mb-3">是否同意协会内调剂</h4>
            <div class="d-block my-3">
              <div class="custom-control custom-radio">
                <input id="ac_sb" name="accept" value="同意随便调" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="ac_sb">同意随便调</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="ac_kp" name="accept" value="靠谱点调" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="ac_kp">靠谱点调</label>
              </div>
              <div class="custom-control custom-radio">
                <input id="ac_bx" name="accept" value="不许调" type="radio" class="custom-control-input" required="">
                <label class="custom-control-label" for="ac_bx">不许调</label>
              </div>
            </div>

            <hr class="mb-4">
              <div class="col-md-12 mb-12 text-center">
                <label for="message">说点啥吧，能力？爱好？</label>
                  <textarea type="" class="form-control" id="message" name="message" placeholder="" required="" maxlength="160"></textarea>
                <div class="invalid-feedback">
                   写一点吧，一点就行
                </div>
              </div>
            <hr class="mb-4">
            <button class="btn btn-primary btn-lg btn-block" type="submit">提交</button>
          </form>
        </div>
      </div>

      {% include 'web/foot.html' %}
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    {% include 'web/all_js.html' %}
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';

        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation codesnippet to
          var forms = document.getElementsByClassName('needs-validation');

          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();
      $(function(){ 
        $('input:not([autocomplete]),textarea:not([autocomplete]),select:not([autocomplete])').attr('autocomplete', 'off');
      });
    </script>
  <script>
        data = {
            'college':[
                {'name':'选择...','value':''},
                {% for i in data_college %}
                {'name':'{{ i.1 }}','value':'{{ i.0 }}'},
                {% endfor %}
            ],
            'major':{
                {% for i,ii in data_college %}
                '{{ i }}':[
                    {'name':'选择...','value':''},
                    {% for j in data_major|keyis:i %}
                    {'name':'{{ j.1 }}','value':'{{ j.0 }}'},
                    {% endfor %}
                ],
                {% endfor %}
            }
        };
        $(function () {
            for (var i=0; i<data['college'].length; i++) {
                var college = document.getElementById("college");
                college.options[i] = new Option(data['college'][i]['name'],data['college'][i]['value']);
            }
        });
        function fill() {
            var college_value = document.getElementById("college").value;
            for (var i=0; i<data['major'][college_value].length; i++) {
                var major = document.getElementById("major");
                major.options[i] = new Option(data['major'][college_value][i]['name'],data['major'][college_value][i]['value']);
            }
        }
    </script>
  

</body></html>